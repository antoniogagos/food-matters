<dom-module id="fm-app">
  <template>

    <style>

      :host {
        height: 100%;
      }

      fm-welcome-animation {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1;
      }


      paper-toolbar {
        --paper-toolbar-background: #F6F4E7;
        --paper-toolbar-color: #414141;

        --paper-toolbar: {
          background-image: url('../images/bg.png');
        }
      }

    </style>

    <fm-welcome-animation
      id="fmWelcome"
      on-initial-animation-finished="_onFmWelcomeAnimationFinished">
    </fm-welcome-animation>

    <paper-drawer-panel>
      <div drawer>
        Food matter
      </div>
      <paper-header-panel class="flex" mode="seamed" main>
        <paper-toolbar>
          <paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button>
          <div class="title">{{currentMonth}}</div>
        </paper-toolbar>

        <fm-plants-list></fm-plants-list>
      </paper-header-panel>
    </paper-drawer-panel>

  </template>
</dom-module>

<script>

  Polymer({

    is: "fm-app",

    properties: {

      currentMonth: {
        type: String,
        value: function() {
          var d = new Date();
          var month = d.getMonth();
          var months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
          return months[month];
        }
      }

    },

    _onFmWelcomeAnimationFinished: function() {
      setTimeout(function() {
        this.$.fmWelcome.disappear(function() {
          this.$.fmWelcome.remove();
        }.bind(this));
      }.bind(this), 1500);
    }

  });

</script>
